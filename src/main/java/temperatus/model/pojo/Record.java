package temperatus.model.pojo;

import javax.persistence.*;
import java.util.HashSet;
import java.util.Set;

import static javax.persistence.GenerationType.IDENTITY;

/**
 * Record generated by hbm2java
 */
@Entity
@Table(name = "RECORD", schema = "PUBLIC", catalog = "DATABASE")
public class Record implements java.io.Serializable {

    private Integer id;
    private Ibutton ibutton;
    private Mission mission;
    private Position position;
    private Set<Measurement> measurements = new HashSet<Measurement>(0);
    private String dataPath;

    public Record() {
    }

    public Record(Ibutton ibutton, Mission mission, Position position, String path) {
        this.ibutton = ibutton;
        this.mission = mission;
        this.position = position;
        this.dataPath = path;
    }

    public Record(Ibutton ibutton, Mission mission, Position position, Set<Measurement> measurements, String path) {
        this.ibutton = ibutton;
        this.mission = mission;
        this.position = position;
        this.measurements = measurements;
        this.dataPath = path;
    }

    @Id
    @GeneratedValue(strategy = IDENTITY)

    @Column(name = "ID", unique = true, nullable = false)
    public Integer getId() {
        return this.id;
    }

    public void setId(Integer id) {
        this.id = id;
    }

    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)
    @JoinColumn(name = "IBUTTON_ID", nullable = false)
    public Ibutton getIbutton() {
        return this.ibutton;
    }

    public void setIbutton(Ibutton ibutton) {
        this.ibutton = ibutton;
    }

    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)
    @JoinColumn(name = "MISSION_ID", nullable = false)
    public Mission getMission() {
        return this.mission;
    }

    public void setMission(Mission mission) {
        this.mission = mission;
    }

    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)
    @JoinColumn(name = "POSITION_ID", nullable = false)
    public Position getPosition() {
        return this.position;
    }

    public void setPosition(Position position) {
        this.position = position;
    }

    @Transient
    public Set<Measurement> getMeasurements() {
        return this.measurements;
    }

    @Transient
    public void setMeasurements(Set<Measurement> measurements) {
        this.measurements = measurements;
    }

    @Column(name = "DATA_PATH", nullable = false)
    public String getDataPath() {
        return this.dataPath;
    }

    public void setDataPath(String dataPath) {
        this.dataPath = dataPath;
    }

    @Override
    public String toString() {
        return position.getPlace();
    }

}
